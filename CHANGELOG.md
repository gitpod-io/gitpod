# Changelog

All notable changes to this project will be documented in this file.

## July 2021

- Fix `image.context` in `.gitpod.yml` ([#4715](https://github.com/gitpod-io/gitpod/pull/4715))
- Support custom commit email address for GitHub and GitLab (keep email private). Thanks to [@philschatz](https://github.com/philschatz) for the contribution! ([#4115](https://github.com/gitpod-io/gitpod/pull/4115))

## June 2021

- Complete validations of VS Code extensions in .gitpod.yml ([#4645](https://github.com/gitpod-io/gitpod/pull/4645)):
    | Check | Quick Fixes¬†|
    | --- | --- |
    | Deprecated user uploaded extensions | Resolve them against Open VSX¬†|
    |¬†Extensions cannot be found in Open VSX | Remove from .gitpod.yml or search for them in Open VSX¬†|
    |¬†Extensions URLs cannot be resolved to valid VSIX files | Remove from .gitpod.yml¬†|
    |¬†Extensions is installed for the workspace but missing in .gitpod.yml |¬†Add to .gitpod.yml or uninstall |
    |¬†Extensions is uninstalled but present in .gitpod.yml |¬†Remove from .gitpod.yml or install as no synced |
- Breaking Change: Make ports configured in `.gitpod.yml` private by default when no value for `visibility` is given (was public). This change is for security reasons. ([#4548](https://github.com/gitpod-io/gitpod/pull/4548))
- Added a deprecation warning for Theia ([#4614](https://github.com/gitpod-io/gitpod/pull/4614))
- Deprecate `prebuild` task in `gitpod.yml` ([#4543](https://github.com/gitpod-io/gitpod/pull/4543))
- Remove `ide` task in `gitpod.yml` ([#4542](https://github.com/gitpod-io/gitpod/pull/4542))
- Remove deprecated `openModes` in `.gitpod.yml` ([4524](https://github.com/gitpod-io/gitpod/pull/4524))
- Fix gp open/preview to await till VS Code UI is available ([#4633](https://github.com/gitpod-io/gitpod/pull/4633))
- Support workspace sharing from VS Code ([#4580](https://github.com/gitpod-io/gitpod/pull/4580))
- Deprecate user uploaded extensions ([#4627](https://github.com/gitpod-io/gitpod/pull/4627))
- Validate .gitpod.yml for missing no synced (workspace) extensions ([#4627](https://github.com/gitpod-io/gitpod/pull/4627))
- Notify about failed port autoexposure and allow to retry again from VS Code ([#4565](https://github.com/gitpod-io/gitpod/pull/4565))
- Fix caching `Not Found` as OTS token in the supervsior ([#4577](https://github.com/gitpod-io/gitpod/pull/4577))
- Fix out of order typing in terminals ([#4560](https://github.com/gitpod-io/gitpod/pull/4560))
- Minify VS Code bundles and reduce the static layer ([#4569](https://github.com/gitpod-io/gitpod/pull/4569))
- Fix dropping path, fragment and query of a URI while converting from localhost to exposed/tunneled ([#4557](https://github.com/gitpod-io/gitpod/pull/4557))
- Work around blocking VS Code for gitpod/workspace-postgres image based workspaces ([#4541](https://github.com/gitpod-io/gitpod/pull/4541))
- Upgrade to VS Code 1.57.1 ([#4507](https://github.com/gitpod-io/gitpod/pull/4507))
- Preserve terminals' icons and colors between page sessions. ([#4507](https://github.com/gitpod-io/gitpod/pull/4507))
- Fix corrupted fonts in terminals. ([#4507](https://github.com/gitpod-io/gitpod/pull/4507))
- Add more loggigng to track down reconnection causes, prevent showing the dialog on reconnections ([#4498](https://github.com/gitpod-io/gitpod/pull/4498))
- Optimize ws-proxy connection pool to prevent timeouts on port location ([#4461](https://github.com/gitpod-io/gitpod/pull/4461))
- Enable debugging of a single VS Code extension from sources in VS Code ([#4446](https://github.com/gitpod-io/gitpod/pull/4446))
- Fix websocket connections on port location ([#4419](https://github.com/gitpod-io/gitpod/pull/4419))
- Fix reconnections because of custom timeout error in the supervisor frontend ([#4404](https://github.com/gitpod-io/gitpod/pull/4404))
- Support VS Code web extensions which are running in a browser worker, [particularly Vim](https://github.com/gitpod-io/gitpod/issues/3259#issuecomment-864355629)
- Preview version of the Gitpod Local Companion: https://www.gitpod.io/blog/local-app
- Retry `git clone` ([#4506](https://github.com/gitpod-io/gitpod/pull/4506))
- Correctly detect URL of git submodules ([#4503](https://github.com/gitpod-io/gitpod/pull/4503))
- Replace `pstree` in `credential-helper` ([#4385](https://github.com/gitpod-io/gitpod/pull/4385))
- Fix parsing of environment variables ([#4494](https://github.com/gitpod-io/gitpod/pull/4494))
- Initialize workspace with additional file contents ([#4428](https://github.com/gitpod-io/gitpod/pull/4428))
- Fix issue context on GitHub ([#4370](https://github.com/gitpod-io/gitpod/pull/4370))
- Add dodo to animals (thanks @a2br!) ([#4589](https://github.com/gitpod-io/gitpod/pull/4589))
- Added grps client-side reconnection ([#4598](https://github.com/gitpod-io/gitpod/pull/4598))
- Implement a new Teams UI in the dashboard (behind a feature flag). ([#4401)](https://github.com/gitpod-io/gitpod/pull/4401), [#4490](https://github.com/gitpod-io/gitpod/pull/4490), [#4571](https://github.com/gitpod-io/gitpod/pull/4571))
- Implement new Project and Team DB tables and entities ([#4368](https://github.com/gitpod-io/gitpod/pull/4368))
- Improve backup stability when pods get evicted ([#4405](https://github.com/gitpod-io/gitpod/pull/4405))
- Better reflect incremental prebuilds in prebuilt workspace logs ([#4293](https://github.com/gitpod-io/gitpod/pull/4293))
- Removing secondary class from the main CTA button to give proper weight (thanks @jordanhailey!) ([#4288](https://github.com/gitpod-io/gitpod/pull/4288)
- Modify the "New Git Integration" experience to align with provider terminology (thanks @jordanhailey!) ([#4287](https://github.com/gitpod-io/gitpod/pull/4287)
- Run shellcheck against scripts ([#4280](https://github.com/gitpod-io/gitpod/pull/4280))
- On gitpod.io 404 redirect to www.gitpod.io ([#4364](https://github.com/gitpod-io/gitpod/pull/4364))
- Fix disk space leak in ws-manager ([#4388](https://github.com/gitpod-io/gitpod/pull/4388))
- Fix memory leak in ws-manager ([#4384](https://github.com/gitpod-io/gitpod/pull/4384))
- Handle GitHub issues page context URL ([#4370](https://github.com/gitpod-io/gitpod/pull/4370))
- Fix issues blocking SSH from local terminal ([#4358](https://github.com/gitpod-io/gitpod/pull/4358))
- Fix remote tracking branch for issue context ([#4367](https://github.com/gitpod-io/gitpod/pull/4367))
- Fix opening empty repositories ([#4337](https://github.com/gitpod-io/gitpod/pull/4337),[#4530](https://github.com/gitpod-io/gitpod/pull/4530), [#4521](https://github.com/gitpod-io/gitpod/pull/4521))
- Fix unvalidated redirects (credit: Arif Khan from SaveBreach Team) ([#2879](https://github.com/gitpod-io/gitpod/pull/2879))
- Various fixes and improvements for the dashboard ([#4417](https://github.com/gitpod-io/gitpod/pull/4417), [#4432](https://github.com/gitpod-io/gitpod/pull/4432),[#4437](https://github.com/gitpod-io/gitpod/pull/4437),[#4454](https://github.com/gitpod-io/gitpod/pull/4454),[#4462](https://github.com/gitpod-io/gitpod/pull/4462),[#4502](https://github.com/gitpod-io/gitpod/pull/4502),[#4523](https://github.com/gitpod-io/gitpod/pull/4523),[#4536](https://github.com/gitpod-io/gitpod/pull/4536),[#4607](https://github.com/gitpod-io/gitpod/pull/4607),[#4618](https://github.com/gitpod-io/gitpod/pull/4618),[#4398](https://github.com/gitpod-io/gitpod/pull/4398),[#4378](https://github.com/gitpod-io/gitpod/pull/4378),[#4364](https://github.com/gitpod-io/gitpod/pull/4364),[#4410](https://github.com/gitpod-io/gitpod/pull/4410),[#4409](https://github.com/gitpod-io/gitpod/pull/4409),[#4408](https://github.com/gitpod-io/gitpod/pull/4408))

## May 2021

- Support multiple ‚ÄúRecent‚Äù projects with the same title in the dashboard ([#4312](https://github.com/gitpod-io/gitpod/pull/4312))
- Add `imagebuild/` context URL prefix that triggers a re-build of the workspace image([#4261](https://github.com/gitpod-io/gitpod/pull/4261))
- Add incremental prebuilds feature ([#4167](https://github.com/gitpod-io/gitpod/pull/4167))
- Update VSCode to version 1.56.2 ([#4257](https://github.com/gitpod-io/gitpod/pull/4257))
- Add OAuth server to manage access to Gitpod workspaces ([#4222](https://github.com/gitpod-io/gitpod/pull/4222))
- Allow setting customTimeoutAnnotation for headless workspace pods ([#4239](https://github.com/gitpod-io/gitpod/pull/4239))
- Replace nginx proxy with Caddy ([#3964](https://github.com/gitpod-io/gitpod/pull/3964))
- Update `runc` version in ws-deamon ([#4250](https://github.com/gitpod-io/gitpod/pull/4250))
- Hide ‚Äústopping‚Äù & unpinned workspaces from ‚ÄúActive‚Äù in the dashboard ([#4170](https://github.com/gitpod-io/gitpod/pull/4170))
- Update jeager and opentracing dependencies ([#4149](https://github.com/gitpod-io/gitpod/pull/4149))
- Update grpc and k8s dependencies (k8s v1.21.0) ([#4136](https://github.com/gitpod-io/gitpod/pull/4136))
- Remove cerc component ([#4143](https://github.com/gitpod-io/gitpod/pull/4143))
- Remove registry facade socket handover ([#4139](https://github.com/gitpod-io/gitpod/pull/4139))
- Make HTTPS termination default ([#4138](https://github.com/gitpod-io/gitpod/pull/4138))
- Implement admission constraints for Pluggable Workspace Clusters ([#4158](https://github.com/gitpod-io/gitpod/pull/4158))
- Implement new self-hosted setup flow ([#3995](https://github.com/gitpod-io/gitpod/pull/3995))
- Fix Cross Origin Websocket Access (credit: Joern Schneeweisz from the GitLab Security Research Team) ([#4118](https://github.com/gitpod-io/gitpod/pull/4118))

## April 2021

- Hide 'Continue with Default Image' button when Docker build is still running (button did nothing) ([#4104](https://github.com/gitpod-io/gitpod/pull/4104))
- Standardize 'Pending Changes' component in Workspaces List and fix for dark theme ([#4078](https://github.com/gitpod-io/gitpod/pull/4078))
- VS Code: Fix forking certain repositories ([#4098](https://github.com/gitpod-io/gitpod/pull/4098))
- Fix GitHub App installation confirmation flow ([#4093](https://github.com/gitpod-io/gitpod/pull/4093))
- Theia: Fix installing big extensions (e.g. Java, Svelte) ([#4030](https://github.com/gitpod-io/gitpod/pull/4030))
- Ask user for confirmation before deleting an environment variable ([#4051](https://github.com/gitpod-io/gitpod/pull/4051))
- UX: Redirect new/not-signed-in users from gitpod.io to www.gitpod.io ([#4070](https://github.com/gitpod-io/gitpod/pull/4070))
- Fix loading Gitpod's dashboard in Safari < 14 ([#4069](https://github.com/gitpod-io/gitpod/pull/4069))
- Fix the GitHub App's 'addComment' and 'addBadge' features ([#4043](https://github.com/gitpod-io/gitpod/pull/4043))
- Fix VS Code IDE opt-in in "What's New" modal ([#3914](https://github.com/gitpod-io/gitpod/pull/3914))
- Optimize Gitpod's dashboard to make it lighter and load faster ([#3830](https://github.com/gitpod-io/gitpod/pull/3830))
- Implement an alpha version of Gitpod's Local Companion app ([#3958](https://github.com/gitpod-io/gitpod/pull/3958))
- Community contribution ([docs][scripts] fix broken `README.md` weblinks and refactor `protoc-generator.sh` ([#4027](https://github.com/gitpod-io/gitpod/pull/4027))
- Fix VS Code for workspace images based on Ubuntu 18.04 ([#3969](https://github.com/gitpod-io/gitpod/pull/3969))
- Make the Docker daemon in workspaces auto-start when needed by introducing a socket activated 'sudo docker-up' ([#4018](https://github.com/gitpod-io/gitpod/pull/4018))
- Improve the bug report template ([#4017](https://github.com/gitpod-io/gitpod/pull/4017))
- Implement a 'Cancel Downgrade' flow for paid plans ([#3873](https://github.com/gitpod-io/gitpod/pull/3873))
- Fix Git Integrations 'more actions' button placement ([#4007](https://github.com/gitpod-io/gitpod/pull/4007))
- Upgrade to VS Code 1.55.x ([#3937](https://github.com/gitpod-io/gitpod/pull/3937))
- Admin/Self-Hosted: Allow restoring a soft-deleted workspace in one click when still within the grace period ([#3955](https://github.com/gitpod-io/gitpod/pull/3955))
- Implement a Dark Theme ([#3901](https://github.com/gitpod-io/gitpod/pull/3901))
- Don't cache error responses in the dashboard ([#3935](https://github.com/gitpod-io/gitpod/pull/3935))
- Handle 'Email is taken' error case in Login page ([#3950](https://github.com/gitpod-io/gitpod/pull/3950))
- Add OAuth2 host check (credit: Joern Schneeweisz from the GitLab Security Research Team) ([#3940](https://github.com/gitpod-io/gitpod/pull/3940))
- Improve Team plans page layout on smaller screens ([#3845](https://github.com/gitpod-io/gitpod/pull/3845))
- UX: Fix accidental workspace deletion when using the 'Enter' key ([#3945](https://github.com/gitpod-io/gitpod/pull/3945))
- Also show environment variables with identical names but different scopes in the dashboard ([#3938](https://github.com/gitpod-io/gitpod/pull/3938))
- Improve error message when trying to open a Pull Request with deleted branch/fork ([#3869](https://github.com/gitpod-io/gitpod/pull/3869))
- Self-Hosted: Release v0.8.0 ([#3900](https://github.com/gitpod-io/gitpod/pull/3900))
- Self-Hosted: Require Kubernetes 1.17+ ([#3889](https://github.com/gitpod-io/gitpod/pull/3889))
- Redirect to /blocked when trying to create or start a workspace while blocked ([#3785](https://github.com/gitpod-io/gitpod/pull/3785))
- Supervisor: Thread-safe listening to terminals ([#3870](https://github.com/gitpod-io/gitpod/pull/3870))
- Dashboard: Replace nginx with caddy ([#3851](https://github.com/gitpod-io/gitpod/pull/3851))
- Make workspace 'start' / 'stopped' screen resilient to network interruptions ([#3862](https://github.com/gitpod-io/gitpod/pull/3862))
- Fix quantity type conversion in Team plans ([#3866](https://github.com/gitpod-io/gitpod/pull/3866))
- Refresh Gitpod's prebuild welcome message (üçå ‚Üí ü§ô) ([#3863](https://github.com/gitpod-io/gitpod/pull/3863))
- Community contribution: Don't make `gp` CLI rely on `PATH` to look up `code` ([#3846](https://github.com/gitpod-io/gitpod/pull/3846))
- VS Code: Make extensions host resilient to network interruptions ([#3840](https://github.com/gitpod-io/gitpod/pull/3840))
- Developing Gitpod-in-Gitpod: Upgrade to Go 1.16.3 ([#3820](https://github.com/gitpod-io/gitpod/pull/3820))
