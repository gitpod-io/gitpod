packages:
  - name: plugin-stable
    type: generic
    deps:
      - components/supervisor-api/java:lib
      - components/gitpod-protocol/java:lib
    srcs:
      - "**/*.kt"
      - "build.gradle.kts"
      - "gradle.properties"
      - "gradle-stable.properties"
      - "gradle/wrapper/*"
      - "gradlew"
      - "settings.gradle.kts"
      - "src/main/resources/*"
      - "src/main/resources-stable/*"
      - "scripts/*"
    env:
      - JETBRAINS_VERSION_QUALIFIER=stable
    config:
      commands:
        - ["./scripts/build.sh"]
  - name: plugin-latest
    type: generic
    deps:
      - components/supervisor-api/java:lib
      - components/gitpod-protocol/java:lib
    srcs:
      - "**/*.kt"
      - "build.gradle.kts"
      - "gradle.properties"
      - "gradle-latest.properties"
      - "gradle/wrapper/*"
      - "gradlew"
      - "settings.gradle.kts"
      - "src/main/resources/*"
      - "src/main/resources-latest/*"
      - "scripts/*"
    env:
      - JETBRAINS_VERSION_QUALIFIER=latest
    config:
      commands:
        - ["./scripts/build.sh"]
